(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{524:function(s,a,e){"use strict";e.r(a);var n=e(22),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"ansible文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ansible文档"}},[s._v("#")]),s._v(" Ansible文档")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://ansible-tran.readthedocs.io/en/latest/docs/intro.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("中文参考文档"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("a",{attrs:{href:"https://docs.ansible.com/ansible/latest/user_guide/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"一、前置条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、前置条件"}},[s._v("#")]),s._v(" 一、前置条件")]),s._v(" "),e("ul",[e("li",[s._v("Python 2.6+ 已安装")]),s._v(" "),e("li",[s._v("pip 已安装")])]),s._v(" "),e("h3",{attrs:{id:"二、安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、安装"}},[s._v("#")]),s._v(" 二、安装")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum install ansible\n# or\npip install ansible\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"三、新手上路"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、新手上路"}},[s._v("#")]),s._v(" 三、新手上路")]),s._v(" "),e("h4",{attrs:{id:"配置ssh免密登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置ssh免密登录"}},[s._v("#")]),s._v(" 配置ssh免密登录")]),s._v(" "),e("ul",[e("li",[s._v("客户端：ssh-keygen；复制 /root/.ssh/id_rsa.pub 公钥")]),s._v(" "),e("li",[s._v("目标端： cd /root/.ssh(没ssh目录先ssh-keygen)； cat >  authorized_keys；粘贴")])]),s._v(" "),e("h4",{attrs:{id:"添加管理主机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#添加管理主机"}},[s._v("#")]),s._v(" 添加管理主机")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("vim /etc/ansible/hosts\n# add \n192.168.1.50\n# or\n192.168.1.105 ansible_ssh_user=root ansible_ssh_pass=xxx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"执行命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#执行命令"}},[s._v("#")]),s._v(" 执行命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ansible all -m ping\n// 响应SUCCESS ---\x3e 成功\n// 响应UNREACHABLE ---\x3e 失败，ssh免密登录没配置好\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"四、inventory文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、inventory文件"}},[s._v("#")]),s._v(" 四、Inventory文件")]),s._v(" "),e("h4",{attrs:{id:"主机与组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主机与组"}},[s._v("#")]),s._v(" 主机与组")]),s._v(" "),e("p",[s._v("/etc/ansible/hosts 文件的格式与windows的ini配置文件类似:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mail.example.com\n\n[webservers]\nfoo.example.com\nbar.example.com\n\n[dbservers]\none.example.com\ntwo.example.com\nthree.example.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("ul",[e("li",[s._v("[]内是组名")]),s._v(" "),e("li",[s._v("默认22端口，可自定义为ip:port")]),s._v(" "),e("li",[s._v("别名：alias ansible_ssh_port=xxx ansible_ssh_host=xx.xx.xx.xx")]),s._v(" "),e("li",[s._v("类型和用户名：ip ansible_connection=local/ssh  ansible_ssh_user=root")])]),s._v(" "),e("h4",{attrs:{id:"主机变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主机变量"}},[s._v("#")]),s._v(" 主机变量")]),s._v(" "),e("p",[s._v("这些变量定义后可在 playbooks 中使用:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[atlanta]\nhost1 http_port=80 maxRequestsPerChild=808\nhost2 http_port=303 maxRequestsPerChild=909\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"组的变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#组的变量"}},[s._v("#")]),s._v(" 组的变量")]),s._v(" "),e("p",[s._v("定义属于整个组的变量:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[atlanta]\nhost1\nhost2\n\n[atlanta:vars]\nntp_server=ntp.atlanta.example.com\nproxy=proxy.atlanta.example.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"把一个组作为另一个组的子成员"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#把一个组作为另一个组的子成员"}},[s._v("#")]),s._v(" 把一个组作为另一个组的子成员")]),s._v(" "),e("p",[s._v("可以把一个组作为另一个组的子成员,以及分配变量给整个组使用. 这些变量可以给 /usr/bin/ansible-playbook 使用,但不能给 /usr/bin/ansible 使用:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[atlanta]\nhost1\nhost2\n\n[raleigh]\nhost2\nhost3\n\n[southeast:children]\natlanta\nraleigh\n\n[southeast:vars]\nsome_server=foo.southeast.example.com\nhalon_system_timeout=30\nself_destruct_countdown=60\nescape_pods=2\n\n[usa:children]\nsoutheast\nnortheast\nsouthwest\nnorthwest\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("h4",{attrs:{id:"分文件定义host和group变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分文件定义host和group变量"}},[s._v("#")]),s._v(" 分文件定义Host和Group变量")]),s._v(" "),e("p",[s._v("inventory主文件采用INI格式，其它独立文件可采用YAML格式")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("/etc/ansible/hosts // inventory文件路径\n\n/etc/ansible/group_vars/raleigh\n/etc/ansible/group_vars/webservers\n/etc/ansible/host_vars/foosball\nfoosball 主机属于raleigh、webservers两个组\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h4",{attrs:{id:"inventory参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#inventory参数说明"}},[s._v("#")]),s._v(" Inventory参数说明")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ansible_ssh_host\n      将要连接的远程主机名.与你想要设定的主机的别名不同的话,可通过此变量设置.\n\nansible_ssh_port\n      ssh端口号.如果不是默认的端口号,通过此变量设置.\n\nansible_ssh_user\n      默认的 ssh 用户名\n\nansible_ssh_pass\n      ssh 密码(这种方式并不安全,我们强烈建议使用 --ask-pass 或 SSH 密钥)\n\nansible_sudo_pass\n      sudo 密码(这种方式并不安全,我们强烈建议使用 --ask-sudo-pass)\n\nansible_sudo_exe (new in version 1.8)\n      sudo 命令路径(适用于1.8及以上版本)\n\nansible_connection\n      与主机的连接类型.比如:local, ssh 或者 paramiko. Ansible 1.2 以前默认使用 paramiko.1.2 以后默认使用 'smart','smart' 方式会根据是否支持 ControlPersist, 来判断'ssh' 方式是否可行.\n\nansible_ssh_private_key_file\n      ssh 使用的私钥文件.适用于有多个密钥,而你不想使用 SSH 代理的情况.\n\nansible_shell_type\n      目标系统的shell类型.默认情况下,命令的执行使用 'sh' 语法,可设置为 'csh' 或 'fish'.\n\nansible_python_interpreter\n      目标主机的 python 路径.适用于的情况: 系统中有多个 Python, 或者命令路径不是\"/usr/bin/python\",比如  \\*BSD, 或者 /usr/bin/python\n      不是 2.X 版本的 Python.我们不使用 \"/usr/bin/env\" 机制,因为这要求远程用户的路径设置正确,且要求 \"python\" 可执行程序名不可为 python以外的名字(实际有可能名为python26).\n\n      与 ansible_python_interpreter 的工作方式相同,可设定如 ruby 或 perl 的路径....\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br")])]),e("p",[s._v("一个主机文件的例子:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("some_host         ansible_ssh_port=2222     ansible_ssh_user=manager\naws_host          ansible_ssh_private_key_file=/home/example/.ssh/aws.pem\nfreebsd_host      ansible_python_interpreter=/usr/local/bin/python\nruby_module_host  ansible_ruby_interpreter=/usr/bin/ruby.1.9.3\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"五、动态-inventory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、动态-inventory"}},[s._v("#")]),s._v(" 五、动态 Inventory")]),s._v(" "),e("p",[s._v("待梳理")]),s._v(" "),e("h3",{attrs:{id:"六、patterns"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六、patterns"}},[s._v("#")]),s._v(" 六、Patterns")]),s._v(" "),e("p",[s._v("交互命令：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ansible <pattern_goes_here> -m <module_name> -a <arguments>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("pattern_goes_here 指定与哪些主机交互")]),s._v(" "),e("ul",[e("li",[s._v("全部")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("all\n*\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("ip/系列主机名")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("one.example.com\none.example.com:two.example.com\n192.168.1.50\n192.168.1.*\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("ul",[e("li",[s._v("一个或多个groups，冒号分割表示或的关系")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("webservers\nwebservers:dbservers\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("排除特定组用!")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("webservers:!phoenix\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("组的交集用&")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("webservers:&staging\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("使用通配符*或其它")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("*.example.com\n*.com\nwebservers[0]\nwebservers[0-25]\n~(web|db).*\\.example\\.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"七、ad-hoc-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#七、ad-hoc-commands"}},[s._v("#")]),s._v(" 七、Ad-Hoc Commands")]),s._v(" "),e("h4",{attrs:{id:"parallelism-and-shell-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parallelism-and-shell-commands"}},[s._v("#")]),s._v(" Parallelism and Shell Commands")]),s._v(" "),e("p",[s._v("Ansible 默认并发是5个进程，-f 设置并发数")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('ansible atlanta -a "/sbin/reboot" -f 10\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"file-transfer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#file-transfer"}},[s._v("#")]),s._v(" File Transfer")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v(' ansible atlanta -m copy -a "src=/etc/hosts dest=/tmp/hosts"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"managing-packages"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#managing-packages"}},[s._v("#")]),s._v(" Managing Packages")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('ansible webservers -m yum -a "name=acme state=present"\nansible webservers -m yum -a "name=acme-1.5 state=present"\nansible webservers -m yum -a "name=acme state=absent"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"users-and-groups"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#users-and-groups"}},[s._v("#")]),s._v(" Users and Groups")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('ansible all -m user -a "name=foo password=<crypted password here>"\nansible all -m user -a "name=foo state=absent"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h4",{attrs:{id:"deploying-from-source-control"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploying-from-source-control"}},[s._v("#")]),s._v(" Deploying From Source Control")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('ansible webservers -m git -a "repo=git://foo.example.org/repo.git dest=/srv/myapp version=HEAD"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"managing-services"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#managing-services"}},[s._v("#")]),s._v(" Managing Services")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('ansible webservers -m service -a "name=httpd state=started"\nansible webservers -m service -a "name=httpd state=restarted"\nansible webservers -m service -a "name=httpd state=stopped"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"time-limited-background-operations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#time-limited-background-operations"}},[s._v("#")]),s._v(" Time Limited Background Operations")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('ansible all -B 3600 -P 0 -a "/usr/bin/long_running_operation --do-stuff"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"gathering-facts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gathering-facts"}},[s._v("#")]),s._v(" Gathering Facts")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ansible all -m setup\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"八、ansible的配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#八、ansible的配置文件"}},[s._v("#")]),s._v(" 八、Ansible的配置文件")]),s._v(" "),e("p",[s._v("待梳理")])])}),[],!1,null,null,null);a.default=t.exports}}]);